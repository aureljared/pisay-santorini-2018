#:kivy 1.9.2
<GridTile>:
	canvas:
		Color:
			a: float(not root.domed)*1
		Rectangle:
			source:root.sources[root.level]
			pos: self.x, self.y
			size: self.width , self.height
		Rectangle:
			source:root.flags[root.flag]
			pos: self.pos
			size: self.size
		Color:
			a: float(root.domed)*1
		Rectangle:
			source:root.sources[4]
			pos: self.x, self.y
			size: self.width , self.height
	
<Builder>:
	canvas:
		Color:
			rgba: 1 + 0.2*float(self.isSelected),1 + 0.2*float(self.isSelected),1 + 0.2*float(self.isSelected),float(self.isActive)
		Rectangle:
			source: root.type
			pos:self.pos
			size:self.size
				
<Grid>:
	tileHold:tileHold
	tile11: tile11
	tile12:tile12
	tile13: tile13
	tile14: tile14
	tile15: tile15
	tile21: tile21
	tile22: tile22
	tile23: tile23
	tile24: tile24
	tile25: tile25
	tile31: tile31
	tile32: tile32
	tile33: tile33
	tile34: tile34
	tile35: tile35
	tile41: tile41
	tile42: tile42
	tile43: tile43
	tile44: tile44
	tile45: tile45
	tile51: tile51
	tile52: tile52
	tile53: tile53
	tile54: tile54
	tile55: tile55
	
	canvas:
		Rectangle:
			source: 'assets/map elements/map.png'
			pos:self.pos
			size:self.width, self.width
			
	GridTile:
		id: tileHold
		size:root.width/5,root.height/5
		x:root.width
		y:root.height + root.y
		position: 5,5
		
	GridTile:
		id: tile11
		size:root.width/5,root.width/5
		x:0
		y:0 + root.y
		position: 0,0
		source0: 'blank.png'
		source1: 'assets/map elements/water L1.png'
		source2: 'assets/map elements/water L2.png'
		source3: 'assets/map elements/water L3.png'
		source4: 'assets/map elements/shipwreck (dome).png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/water flag 0.png'
		flag2: 'assets/map elements/water flag 1.png'
		flag3: 'assets/map elements/water flag 2.png'
		flag4: 'assets/map elements/water flag 3.png'
		
	GridTile:
		id: tile12
		size:root.width/5,root.width/5
		x:root.width/5*1
		y:root.width/5*0 + root.y
		position: 1,0
		source0: 'blank.png'
		source1: 'assets/map elements/island b L1.png'
		source2: 'assets/map elements/island b L2.png'
		source3: 'assets/map elements/island b L3.png'
		source4: 'assets/map elements/island b dome.png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/island flag 0.png'
		flag2: 'assets/map elements/island flag 1.png'
		flag3: 'assets/map elements/island flag 2.png'
		flag4: 'assets/map elements/island flag 3.png'
		
	GridTile:
		id: tile13
		size:root.width/5,root.width/5
		x:root.width/5*2
		y:root.width/5*0 + root.y
		position: 2,0
		source0: 'blank.png'
		source1: 'assets/map elements/water L1.png'
		source2: 'assets/map elements/water L2.png'
		source3: 'assets/map elements/water L3.png'
		source4: 'assets/map elements/shipwreck (dome).png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/water flag 0.png'
		flag2: 'assets/map elements/water flag 1.png'
		flag3: 'assets/map elements/water flag 2.png'
		flag4: 'assets/map elements/water flag 3.png'
		
	GridTile:
		id: tile14
		size:root.width/5,root.width/5
		x:root.width/5*3
		y:root.width/5*0 + root.y
		position: 3,0
		source0: 'blank.png'
		source1: 'assets/map elements/island b L1.png'
		source2: 'assets/map elements/island b L2.png'
		source3: 'assets/map elements/island b L3.png'
		source4: 'assets/map elements/island b dome.png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/island flag 0.png'
		flag2: 'assets/map elements/island flag 1.png'
		flag3: 'assets/map elements/island flag 2.png'
		flag4: 'assets/map elements/island flag 3.png'
		
	GridTile:
		id: tile15
		size:root.width/5,root.width/5
		x:root.width/5*4
		y:root.width/5*0 + root.y
		position: 4,0
		source0: 'blank.png'
		source1: 'assets/map elements/water L1.png'
		source2: 'assets/map elements/water L2.png'
		source3: 'assets/map elements/water L3.png'
		source4: 'assets/map elements/shipwreck (dome).png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/water flag 0.png'
		flag2: 'assets/map elements/water flag 1.png'
		flag3: 'assets/map elements/water flag 2.png'
		flag4: 'assets/map elements/water flag 3.png'
		
	GridTile:
		id: tile21
		size:root.width/5,root.width/5
		x:root.width/5*0
		y:root.width/5*1 + root.y
		position: 0,1
		source0: 'blank.png'
		source1: 'assets/map elements/island c L1.png'
		source2: 'assets/map elements/island c L2.png'
		source3: 'assets/map elements/island c L3.png'
		source4: 'assets/map elements/island c dome.png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/island flag 0.png'
		flag2: 'assets/map elements/island flag 1.png'
		flag3: 'assets/map elements/island flag 2.png'
		flag4: 'assets/map elements/island flag 3.png'
		
	GridTile:
		id: tile22
		size:root.width/5,root.width/5
		x:root.width/5*1
		y:root.width/5*1 + root.y
		position: 1,1
		source0: 'blank.png'
		source1: 'assets/map elements/water L1.png'
		source2: 'assets/map elements/water L2.png'
		source3: 'assets/map elements/water L3.png'
		source4: 'assets/map elements/shipwreck (dome).png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/water flag 0.png'
		flag2: 'assets/map elements/water flag 1.png'
		flag3: 'assets/map elements/water flag 2.png'
		flag4: 'assets/map elements/water flag 3.png'
		
	GridTile:
		id: tile23
		size:root.width/5,root.width/5
		x:root.width/5*2
		y:root.width/5*1 + root.y
		position: 2,1
		source0: 'blank.png'
		source1: 'assets/map elements/water L1.png'
		source2: 'assets/map elements/water L2.png'
		source3: 'assets/map elements/water L3.png'
		source4: 'assets/map elements/shipwreck (dome).png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/water flag 0.png'
		flag2: 'assets/map elements/water flag 1.png'
		flag3: 'assets/map elements/water flag 2.png'
		flag4: 'assets/map elements/water flag 3.png'
		
	GridTile:
		id: tile24
		size:root.width/5,root.width/5
		x:root.width/5*3
		y:root.width/5*1 + root.y
		position: 3,1
		source0: 'blank.png'
		source1: 'assets/map elements/water L1.png'
		source2: 'assets/map elements/water L2.png'
		source3: 'assets/map elements/water L3.png'
		source4: 'assets/map elements/shipwreck (dome).png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/water flag 0.png'
		flag2: 'assets/map elements/water flag 1.png'
		flag3: 'assets/map elements/water flag 2.png'
		flag4: 'assets/map elements/water flag 3.png'
		
	GridTile:
		id: tile25
		size:root.width/5,root.width/5
		x:root.width/5*4
		y:root.width/5*1 + root.y
		position: 4,1
		source0: 'blank.png'
		source1: 'assets/map elements/island a L1.png'
		source2: 'assets/map elements/island a L2.png'
		source3: 'assets/map elements/island a L3.png'
		source4: 'assets/map elements/island a dome.png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/island flag 0.png'
		flag2: 'assets/map elements/island flag 1.png'
		flag3: 'assets/map elements/island flag 2.png'
		flag4: 'assets/map elements/island flag 3.png'
		
	GridTile:
		id: tile31
		size:root.width/5,root.width/5
		x:root.width/5*0
		y:root.width/5*2 + root.y
		position: 0,2
		source0: 'blank.png'
		source1: 'assets/map elements/island c L1.png'
		source2: 'assets/map elements/island c L2.png'
		source3: 'assets/map elements/island c L3.png'
		source4: 'assets/map elements/island c dome.png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/island flag 0.png'
		flag2: 'assets/map elements/island flag 1.png'
		flag3: 'assets/map elements/island flag 2.png'
		flag4: 'assets/map elements/island flag 3.png'
		
	GridTile:
		id: tile32
		size:root.width/5,root.width/5
		x:root.width/5*1
		y:root.width/5*2 + root.y
		position: 1,2
		source0: 'blank.png'
		source1: 'assets/map elements/water L1.png'
		source2: 'assets/map elements/water L2.png'
		source3: 'assets/map elements/water L3.png'
		source4: 'assets/map elements/shipwreck (dome).png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/water flag 0.png'
		flag2: 'assets/map elements/water flag 1.png'
		flag3: 'assets/map elements/water flag 2.png'
		flag4: 'assets/map elements/water flag 3.png'
		
	GridTile:
		id: tile33
		size:root.width/5,root.width/5
		x:root.width/5*2
		y:root.width/5*2 + root.y
		position: 2,2
		source0: 'blank.png'
		source1: 'assets/map elements/water L1.png'
		source2: 'assets/map elements/water L2.png'
		source3: 'assets/map elements/water L3.png'
		source4: 'assets/map elements/shipwreck (dome).png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/water flag 0.png'
		flag2: 'assets/map elements/water flag 1.png'
		flag3: 'assets/map elements/water flag 2.png'
		flag4: 'assets/map elements/water flag 3.png'
		
	GridTile:
		id: tile34
		size:root.width/5,root.width/5
		x:root.width/5*3
		y:root.width/5*2 + root.y
		position: 3,2
		source0: 'blank.png'
		source1: 'assets/map elements/island a L1.png'
		source2: 'assets/map elements/island a L2.png'
		source3: 'assets/map elements/island a L3.png'
		source4: 'assets/map elements/island a dome.png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/island flag 0.png'
		flag2: 'assets/map elements/island flag 1.png'
		flag3: 'assets/map elements/island flag 2.png'
		flag4: 'assets/map elements/island flag 3.png'
		
	GridTile:
		id: tile35
		size:root.width/5,root.width/5
		x:root.width/5*4
		y:root.width/5*2 + root.y
		position: 4,2
		source0: 'blank.png'
		source1: 'assets/map elements/island d L1.png'
		source2: 'assets/map elements/island d L2.png'
		source3: 'assets/map elements/island d L3.png'
		source4: 'assets/map elements/island d dome.png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/island flag 0.png'
		flag2: 'assets/map elements/island flag 1.png'
		flag3: 'assets/map elements/island flag 2.png'
		flag4: 'assets/map elements/island flag 3.png'
		
	GridTile:
		id: tile41
		size:root.width/5,root.width/5
		x:root.width/5*0
		y:root.width/5*3 + root.y
		position: 0,3
		source0: 'blank.png'
		source1: 'assets/map elements/island a L1.png'
		source2: 'assets/map elements/island a L2.png'
		source3: 'assets/map elements/island a L3.png'
		source4: 'assets/map elements/island a dome.png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/island flag 0.png'
		flag2: 'assets/map elements/island flag 1.png'
		flag3: 'assets/map elements/island flag 2.png'
		flag4: 'assets/map elements/island flag 3.png'
		
	GridTile:
		id: tile42
		size:root.width/5,root.width/5
		x:root.width/5*1
		y:root.width/5*3 + root.y
		position: 1,3
		source0: 'blank.png'
		source1: 'assets/map elements/island a L1.png'
		source2: 'assets/map elements/island a L2.png'
		source3: 'assets/map elements/island a L3.png'
		source4: 'assets/map elements/island a dome.png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/island flag 0.png'
		flag2: 'assets/map elements/island flag 1.png'
		flag3: 'assets/map elements/island flag 2.png'
		flag4: 'assets/map elements/island flag 3.png'
		
	GridTile:
		id: tile43
		size:root.width/5,root.width/5
		x:root.width/5*2
		y:root.width/5*3 + root.y
		position: 2,3
		source0: 'blank.png'
		source1: 'assets/map elements/island d L1.png'
		source2: 'assets/map elements/island d L2.png'
		source3: 'assets/map elements/island d L3.png'
		source4: 'assets/map elements/island d dome.png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/island flag 0.png'
		flag2: 'assets/map elements/island flag 1.png'
		flag3: 'assets/map elements/island flag 2.png'
		flag4: 'assets/map elements/island flag 3.png'
		
	GridTile:
		id: tile44
		size:root.width/5,root.width/5
		x:root.width/5*3
		y:root.width/5*3 + root.y
		position: 3,3
		source0: 'blank.png'
		source1: 'assets/map elements/water L1.png'
		source2: 'assets/map elements/water L2.png'
		source3: 'assets/map elements/water L3.png'
		source4: 'assets/map elements/shipwreck (dome).png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/water flag 0.png'
		flag2: 'assets/map elements/water flag 1.png'
		flag3: 'assets/map elements/water flag 2.png'
		flag4: 'assets/map elements/water flag 3.png'
		
	GridTile:
		id: tile45
		size:root.width/5,root.width/5
		x:root.width/5*4
		y:root.width/5*3 + root.y
		position: 4,3
		source0: 'blank.png'
		source1: 'assets/map elements/water L1.png'
		source2: 'assets/map elements/water L2.png'
		source3: 'assets/map elements/water L3.png'
		source4: 'assets/map elements/shipwreck (dome).png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/water flag 0.png'
		flag2: 'assets/map elements/water flag 1.png'
		flag3: 'assets/map elements/water flag 2.png'
		flag4: 'assets/map elements/water flag 3.png'
		
	GridTile:
		id: tile51
		size:root.width/5,root.width/5
		x:root.width/5*0
		y:root.width/5*4 + root.y
		position: 0,4
		source0: 'blank.png'
		source1: 'assets/map elements/island e L1.png'
		source2: 'assets/map elements/island e L2.png'
		source3: 'assets/map elements/island e L3.png'
		source4: 'assets/map elements/island e dome.png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/island flag 0.png'
		flag2: 'assets/map elements/island flag 1.png'
		flag3: 'assets/map elements/island flag 2.png'
		flag4: 'assets/map elements/island flag 3.png'
		
	GridTile:
		id: tile52
		size:root.width/5,root.width/5
		x:root.width/5*1
		y:root.width/5*4 + root.y
		position: 1,4
		source0: 'blank.png'
		source1: 'assets/map elements/water L1.png'
		source2: 'assets/map elements/water L2.png'
		source3: 'assets/map elements/water L3.png'
		source4: 'assets/map elements/shipwreck (dome).png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/water flag 0.png'
		flag2: 'assets/map elements/water flag 1.png'
		flag3: 'assets/map elements/water flag 2.png'
		flag4: 'assets/map elements/water flag 3.png'
		
	GridTile:
		id: tile53
		size:root.width/5,root.width/5
		x:root.width/5*2
		y:root.width/5*4 + root.y
		position: 2,4
		source0: 'blank.png'
		source1: 'assets/map elements/water L1.png'
		source2: 'assets/map elements/water L2.png'
		source3: 'assets/map elements/water L3.png'
		source4: 'assets/map elements/shipwreck (dome).png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/water flag 0.png'
		flag2: 'assets/map elements/water flag 1.png'
		flag3: 'assets/map elements/water flag 2.png'
		flag4: 'assets/map elements/water flag 3.png'
		
	GridTile:
		id: tile54
		size:root.width/5,root.width/5
		x:root.width/5*3
		y:root.width/5*4 + root.y
		position: 3,4
		source0: 'blank.png'
		source1: 'assets/map elements/water L1.png'
		source2: 'assets/map elements/water L2.png'
		source3: 'assets/map elements/water L3.png'
		source4: 'assets/map elements/shipwreck (dome).png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/water flag 0.png'
		flag2: 'assets/map elements/water flag 1.png'
		flag3: 'assets/map elements/water flag 2.png'
		flag4: 'assets/map elements/water flag 3.png'
		
	GridTile:
		id: tile55
		size:root.width/5,root.width/5
		x:root.width/5*4
		y:root.width/5*4 + root.y
		position: 4,4
		source0: 'blank.png'
		source1: 'assets/map elements/water L1.png'
		source2: 'assets/map elements/water L2.png'
		source3: 'assets/map elements/water L3.png'
		source4: 'assets/map elements/shipwreck (dome).png'
		flag0: 'blank.png'
		flag1: 'assets/map elements/water flag 0.png'
		flag2: 'assets/map elements/water flag 1.png'
		flag3: 'assets/map elements/water flag 2.png'
		flag4: 'assets/map elements/water flag 3.png'
		
	Widget:
		pos: root.pos
		size: root.size
		canvas:
			Color:
				rgba:1,1,1,1
	    	Rectangle:
	    		source: 'assets/ui panes and menus/game_pane.png'
				pos:0,0
				size:self.width, self.width*324/1326
			Rectangle:
				source: 'assets/ui panes and menus/top_pane.png'
				pos:0, self.height - self.width/1326*207
				size:self.width, self.width/1326*207
				
	Widget:
		pos: 0,0
		size: root.size
		canvas:
			Color:
				rgba:1,1,1,1
			#Counter for Pieces
			Rectangle:
				source:int(((root.levelCap[0]-root.levelUsed[0]) - ((root.levelCap[0] - root.levelUsed[0]) % 10))/10)*str( 'assets/numbers/'+str(int(((root.levelCap[0]-root.levelUsed[0]) - ((root.levelCap[0] - root.levelUsed[0]) % 10))/10))+'.png')+((int(((root.levelCap[0]-root.levelUsed[0]) - ((root.levelCap[0] - root.levelUsed[0]) % 10))/10)+1)%2)*'blank.png'
				pos: root.width/1326*68,root.width/1326*(324-212)
				size: root.width /1326*41, root.width/1326*52
			Rectangle:
				source: 'assets/numbers/'+str((root.levelCap[0] - root.levelUsed[0]) % 10)+'.png'
				pos: root.width/1326*112,root.width/1326*(324-212)
				size: root.width /1326*41, root.width/1326*52
				
			Rectangle:
				source:int(((root.levelCap[1]-root.levelUsed[1]) - ((root.levelCap[1] - root.levelUsed[1]) % 10))/10)*str( 'assets/numbers/'+str(int(((root.levelCap[1]-root.levelUsed[1]) - ((root.levelCap[1] - root.levelUsed[1]) % 10))/10))+'.png')+((int(((root.levelCap[1]-root.levelUsed[1]) - ((root.levelCap[1] - root.levelUsed[1]) % 10))/10)+1)%2)*'blank.png'
				pos: root.width/1326*68,root.width/1326*(324-300)
				size: root.width /1326*41, root.width/1326*52
			Rectangle:
				source: 'assets/numbers/'+str((root.levelCap[1] - root.levelUsed[1]) % 10)+'.png'
				pos: root.width/1326*112,root.width/1326*(324-300)
				size: root.width /1326*41, root.width/1326*52
				
			Rectangle:
				source:int(((root.levelCap[2]-root.levelUsed[2]) - ((root.levelCap[2] - root.levelUsed[2]) % 10))/10)*str( 'assets/numbers/'+str(int(((root.levelCap[2]-root.levelUsed[2]) - ((root.levelCap[2] - root.levelUsed[2]) % 10))/10))+'.png')+((int(((root.levelCap[2]-root.levelUsed[2]) - ((root.levelCap[2] - root.levelUsed[2]) % 10))/10)+1)%2)*'blank.png'
				pos: root.width/1326*257,root.width/1326*(324-212)
				size: root.width /1326*41, root.width/1326*52
			Rectangle:
				source: 'assets/numbers/'+str((root.levelCap[2] - root.levelUsed[2]) % 10)+'.png'
				pos: root.width/1326*301,root.width/1326*(324-212)
				size: root.width /1326*41, root.width/1326*52
				
			Rectangle:
				source:int(((root.levelCap[3]-root.levelUsed[3]) - ((root.levelCap[3] - root.levelUsed[3]) % 10))/10)*str( 'assets/numbers/'+str(int(((root.levelCap[3]-root.levelUsed[3]) - ((root.levelCap[3] - root.levelUsed[3]) % 10))/10))+'.png')+((int(((root.levelCap[3]-root.levelUsed[3]) - ((root.levelCap[3] - root.levelUsed[3]) % 10))/10)+1)%2)*'blank.png'
				pos: root.width/1326*257,root.width/1326*(324-300)
				size: root.width /1326*41, root.width/1326*52
			Rectangle:
				source: 'assets/numbers/'+str((root.levelCap[3] - root.levelUsed[3]) % 10)+'.png'
				pos: root.width/1326*301,root.width/1326*(324-300)
				size: root.width /1326*41, root.width/1326*52
			
	Widget:
		size: root.size
		canvas:
			Color:
				rgba:1,1,1,1
			#Timer
			Rectangle:
				source: 'assets/numbers/'+str(root.timer[0])+'.png'
				pos: root.width/1325*51,root.height-root.width/1325*141
				size: root.width /1326*39, root.width/1326*51
			Rectangle:
				source: 'assets/numbers/'+str(root.timer[1])+'.png'
				pos: root.width/1325*95,root.height-root.width/1325*141
				size: root.width /1326*39, root.width/1326*51
			Rectangle:
				source: 'assets/numbers/'+str(root.timer[2])+'.png'
				pos: root.width/1325*177,root.height-root.width/1325*141
				size: root.width /1326*39, root.width/1326*51
			Rectangle:
				source: 'assets/numbers/'+str(root.timer[3])+'.png'
				pos: root.width/1325*221,root.height-root.width/1325*141
				size: root.width /1326*39, root.width/1326*51
#			Rectangle:
#				source: 'assets/numbers/'+str(root.timer[4])+'.png'
#				pos: 4*root.width/1326*(597-553),0
#				size: root.width /1326*41, root.width/1326*52
#			Rectangle:
#				source: 'assets/numbers/'+str(root.timer[5])+'.png'
#				pos: 5*root.width/1326*(597-553),0
#				size: root.width /1326*41, root.width/1326*52
				
#			Color:
#				rgba: root.parent.player, 0, (root.parent.player + 1)%2,1
#			Rectangle:
#				source:'assets/numbers/' + str(root.parent.player) + '.png'
#				pos:0,0
#				size: self.width /1326*41, self.width/1326*52
		
<Player>:
	builder0:builder0
	builder1:builder1
	builder2:builder2
	builder3:builder3
	canvas.before:
		PushMatrix
		Rotate:
			angle: 352.2
			origin: self.pos
	canvas.after:
		PopMatrix
	canvas:
		Color:
			rgba: self.color[0], self.color[1], self.color[2], self.isCurrent
		Rectangle:
			pos: self.pos
			size: self.size
		Color:
			rgba:5,5,5,self.isCurrent
		Rectangle:
			source: 'assets/generals/'+root.hero+'.png'
			pos: self.pos
			size: self.size
		Rectangle:
			source: 'assets/ui panes and menus/tape.png'
			size: self.width/2.5,self.width/78*66/2.5
			pos: self.x + self.width - self.width/191*51, self.y- self.width/191*22
			Rotate:
				angle: 45
				origin: self.pos
				
    Builder:
    	id: builder0
		size: root.width *1326/191/5, root.width *1326/191/5
    	x:root.parent.width
    	y:root.parent.height
    	player:root
    	num: 0
	    type: root.type
		canvas.before:
			PushMatrix
			Rotate:
				angle: -352.2
				origin: root.pos
		canvas.after:
			PopMatrix
    Builder:
    	id: builder1
		size: root.width *1326/191/5, root.width *1326/191/5
    	x:root.parent.width
    	y:root.parent.height
    	player:root
    	num:1
    	type: root.type
		canvas.before:
			PushMatrix
			Rotate:
				angle: -352.2
				origin: root.pos
		canvas.after:
			PopMatrix
    Builder:
    	id: builder2
		size:root.parent.width/5,root.parent.width/5
    	x:root.parent.width
    	y:root.parent.height
    	player:root
    	isActive:False
    	num:2
    	type: root.type
		canvas.before:
			PushMatrix
			Rotate:
				angle: -352.2
				origin: root.pos
		canvas.after:
			PopMatrix
    Builder:
    	id: builder3
		size:root.parent.width/5,root.parent.width/5
    	x:root.parent.width
    	y:root.parent.height
    	player:root
    	isActive:False
    	num:3
    	type: root.type
		canvas.before:
			PushMatrix
			Rotate:
				angle: -352.2
				origin: root.pos
		canvas.after:
			PopMatrix
				
	Widget
		pos: root.parent.width/1326*964, root.parent.width/1326*84
		size: root.parent.width /1326*92, root.parent.width/1326*92
		canvas:
			Color:
				rgba:1,1,1,int(root.skillActive)
			Ellipse:
				source: 'assets/buttons/button push.png' * int(root.skillActive) 
				size: self.size
				pos: self.pos
		
<NewGame>:
	player0:player0
	player1:player1
	player2:player2
	player3:player3
	grid:grid
	drawn0:drawn0
	drawn1:drawn1
	drawn2:drawn2
	endTurnButton:endTurnButton
	undoTurnButton:undoTurnButton
	powerButton:powerButton
	optionsButton:optionsButton
	closeOptionsButton:closeOptionsButton
	settingsButton:settingsButton
	closeSettingsButton:closeSettingsButton
	startGame:startGame
	gameOptionsButton:gameOptionsButton
	quitGame:quitGame
	closeGameOptionsButton:closeGameOptionsButton
	soundSlider:soundSlider
	musicSlider:musicSlider
	
	
	canvas:
		Rectangle:
			pos:0,0
			size:self.width, self.height
	Grid:
		id:grid
		height:root.height
		width:root.width
		y: root.center_y - root.width/2 + root.width*251/1326/2 - self.width/1326*207/2
			
	#Player Initialization
	Player:
		id:player0
		isActive:True
		color: 0.25,0.25,0.75
		num:0
		type: 'worker ph.png'
		opponent:player1
		hero:'Vanilla'
		isCurrent:True
		pos: root.width/1326*1074, root.width/1326*73
		size: root.width /1326*191, root.width/1326*251
	Player:
		id:player1
		isActive:True
		color: 0.75,0.25,0.25
		num:1
		type: 'worker ch.png'
		opponent:player0
		hero:'Vanilla'
		pos: root.width/1326*1074, root.width/1326*73
		size: root.width /1326*191, root.width/1326*251
	Player:
		id:player2
		num:2
		color:0.75,0.75,0.25
		type: 'worker la.png'
		opponent:player0
		hero:'Vanilla'
		pos: root.width/1326*1074, root.width/1326*73
		size: root.width /1326*191, root.width/1326*251
	Player:
		id:player3
		num:3
		color:0.25,0.75,0.25
		type: 'worker my.png'
		opponent:player0
		hero:'Vanilla'
		pos: root.width/1326*1074, root.width/1326*73
		size: root.width /1326*191, root.width/1326*251
		
	GameCircleButton:
		id: powerButton
		pos: root.width/1326*975, root.width/1326*94
		size: root.width /1326*86, root.width/1326*86
		
	Widget:
		id:drawn0
		size: root.width /1326*300, root.width/1326*400
		pos: root.center_x - (root.width/4+self.width/2), root.center_y - (self.height/2)
		canvas:
			Color:
				rgba: 1,1,1,(root.screen == 1)
			Rectangle:
				size: self.size
				pos: root.center_x - (root.width/4+self.width/2), root.center_y - (self.height/2)
			Rectangle:
				source: 'assets/generals/'+root.hero0+'.png'
				size: self.size
				pos: root.center_x - (root.width/4+self.width/2), root.center_y - (self.height/2)
	Widget:
		id:drawn1
		size: root.width /1326*300, root.width/1326*400
		pos: root.center_x - (self.width/2), root.center_y - (self.height/2)
		canvas:
			Color:
				rgba: 1,1,1,int(root.screen == 1)
			Rectangle:
				size: self.size
				pos: root.center_x - (self.width/2), root.center_y - (self.height/2)
			Rectangle:
				source: 'assets/generals/'+root.hero1+'.png'
				size: self.size
				pos: root.center_x - (self.width/2), root.center_y - (self.height/2)
	Widget:
		id:drawn2
		size: root.width /1326*300, root.width/1326*400
		pos: root.center_x - (-root.width/4+self.width/2), root.center_y - (self.height/2)
		canvas:
			Color:
				rgba: 1,1,1,int(root.screen==1)
			Rectangle:
				size: self.size
				pos: root.center_x - (-root.width/4+self.width/2), root.center_y - (self.height/2)
			Rectangle:
				source: 'assets/generals/'+root.hero2+'.png'
				size: self.size
				pos: root.center_x - (-root.width/4+self.width/2), root.center_y - (self.height/2)
	
    Label:
    	size: root.width, root.width/10
    	pos:0, root.center_y
    	font_size: root.width/10
    	text:root.text
    	color: 0,0,0,1
    GameButton:
    	id:endTurnButton
		pos: root.width/1325*346, root.height - root.width/1325*136
		size: root.width/1326*346, root.width/1326*72
		canvas.before:
			PushMatrix
			Rotate:
				angle: -0.8279
				origin: self.pos
		canvas.after:
			PopMatrix
		canvas:
			Color:
				rgba:1,1,1,self.state == 'down'
			Rectangle:
				source:'assets/buttons/onclick highlight bare.png'
				size: self.size
				pos: self.pos
    GameButton:
    	id:undoTurnButton
		pos: root.width/1325*770, root.height - root.width/1325*145
		size: root.width/1326*346, root.width/1326*72
		canvas.before:
			PushMatrix
			Rotate:
				angle: 0.9934
				origin: self.pos
		canvas.after:
			PopMatrix
		canvas:
			Color:
				rgba:1,1,1,self.state == 'down'
			Rectangle:
				source: 'assets/buttons/onclick highlight bare.png'
				size: self.size
				pos: self.pos
    	
    GameCircleButton:
    	id:optionsButton
		pos: root.width/1325*1155, root.height - root.width/1325*178
		size: root.width/1326*142, root.width/1326*142
		canvas:
			Color:
				rgba:1,1,1,self.state == 'down'
			Ellipse:
				source: 'assets/buttons/button push.png'
				size: self.size
				pos: self.pos
	Widget:
		id:optionsScreen
		pos:0, root.center_y-self.height/2
		size: root.width, root.width/728*880
		canvas:
			Color:
				rgba:1,1,1,(root.screen==2)
			Rectangle:
				source: 'assets/ui panes and menus/options_menu_game.png'
				size: self.size
				pos: self.pos
	GameCircleButton:
		id:closeOptionsButton
		pos: root.width/1327*1137, root.center_y + root.width/1327*629
		size: root.width/1327*124, root.width/1327*124
		canvas:
			Color:
				rgba:1,1,1,(root.screen==2 and self.state=='down')
			Ellipse:
				source: 'assets/buttons/button push.png'
				size: self.size
				pos: self.pos
	GameButton:
		id:settingsButton
		pos: root.width/1327*218, root.center_y - root.width/1327*157
		size: root.width/1327*880, root.width/1327*185
		canvas.before:
			PushMatrix
			Rotate:
				angle: -0.37
				origin: self.pos
		canvas.after:
			PopMatrix
		canvas:
			Color:
				rgba:1,1,1,(root.screen==2 and self.state=='down')
			Rectangle:
				source: 'assets/buttons/onclick highlight bare.png'
				size: self.size
				pos: self.pos
	GameButton:
		id:concedeButton
		pos: root.width/1327*226, root.center_y + root.width/1327*188
		size: root.width/1327*880, root.width/1327*185
		canvas.before:
			PushMatrix
			Rotate:
				angle: 1
				origin: self.pos
		canvas.after:
			PopMatrix
		canvas:
			Color:
				rgba:1,1,1,(root.screen==2 and self.state=='down')
			Rectangle:
				source: 'assets/buttons/onclick highlight bare.png'
				size: self.size
				pos: self.pos
	GameButton:
		id:quitButton
		pos: root.width/1327*217, root.center_y - root.width/1327*498
		size: root.width/1327*880, root.width/1327*185
		canvas.before:
			PushMatrix
			Rotate:
				angle: 1
				origin: self.pos
		canvas.after:
			PopMatrix
		canvas:
			Color:
				rgba:1,1,1,(root.screen==2 and self.state=='down')
			Rectangle:
				source: 'assets/buttons/onclick highlight bare.png'
				size: self.size
				pos: self.pos
	Widget:
		id:settingsScreen
		pos:0, root.center_y-self.height/2
		size: root.width, root.width/1327*1778
		canvas:
			Color:
				rgba:1,1,1,(root.screen==3)
			Rectangle:
				source: 'assets/ui panes and menus/settings menu.png'
				size: self.size
				pos: self.pos
	GameCircleButton:
		id:closeSettingsButton
		pos: root.width/1327*1220, root.height - root.width/1327*99
		size: root.width/1327*66, root.width/1327*66
		canvas:
			Color:
				rgba:1,1,1,(root.screen==3 and self.state == 'down')
			Ellipse:
				source: 'assets/buttons/button push.png'
				size: self.size
				pos: self.pos
	Slider:
		id:soundSlider
		pos: root.width/1327*550,root.center_y+root.width/1327*400
		disabled: (root.screen != 3)
		cursor_image:'assets/buttons/slider peg.png'
		cursor_disabled_image:'blank.png'
		background_disabled_horizontal:'blank.png'
		background_horizontal:'blank.png'
		border_horizontal: [0,100,0,100]
		width:root.width/1327*711
		height:root.width/1327*175
		cursor_width:root.width/1327*60
		cursor_height:root.width/1327*60
		max:100
		min:0
		value:0
	Slider:
		id:musicSlider
		pos: root.width/1327*550,root.center_y+root.width/1327*175
		disabled: (root.screen != 3)
		cursor_image:'assets/buttons/slider peg.png'
		cursor_disabled_image:'blank.png'
		background_disabled_horizontal:'blank.png'
		background_horizontal:'blank.png'
		border_horizontal: [0,100,0,100]
		width:root.width/1327*711
		height:root.width/1327*175
		cursor_width:root.width/1327*60
		cursor_height:root.width/1327*60
		max:100
		min:0
		value:0
		
	Widget:
		pos: 0,0
		size: root.width, root.height
		canvas:
			Color:
				rgba:1,1,1,(root.screen==4)
			Rectangle:
				source: 'assets/ui panes and menus/mask.png'
				size: self.size
				pos: self.pos
	Widget:
		id:startGame
		pos: 0, root.center_y+self.height*5/8
		size: root.width, root.width/787*242
		canvas:
			Color:
				rgba:1,1,1,(root.screen==4)
			Rectangle:
				source: 'assets/ui panes and menus/start_game.png'
				size: self.size
				pos: self.pos
	Widget:
		id:gameOptionsButton
		pos: 0, root.center_y-self.height*4/8
		size: root.width, root.width/787*242
		canvas:
			Color:
				rgba:1,1,1,(root.screen==4)
			Rectangle:
				source: 'assets/ui panes and menus/options.png'
				size: self.size
				pos: self.pos
	Widget:
		id:quitGame
		pos: 0, root.center_y-self.height*13/8
		size: root.width, root.width/787*242
		canvas:
			Color:
				rgba:1,1,1,(root.screen==4)
			Rectangle:
				source: 'assets/ui panes and menus/quit.png'
				size: self.size
				pos: self.pos
	Widget:
		id:gameOptionsScreen
		pos:0, root.center_y-self.height/2
		size: root.width, root.width/1327*1778
		canvas:
			Color:
				rgba:1,1,1,(root.screen==5)
			Rectangle:
				source: 'assets/ui panes and menus/game setup bare.png'
				size: self.size
				pos: self.pos
	GameCircleButton:
		id:closeGameOptionsButton
		pos: root.width/1327*1224, root.height - root.width/1327*102
		size: root.width/1327*68, root.width/1327*68
		canvas:
			Color:
				rgba:1,1,1,(root.screen==5 and self.state == 'down')
			Ellipse:
				source: 'assets/buttons/button push.png'
				size: self.size
				pos: self.pos

<GameButton>:
<GameCircleButton>: